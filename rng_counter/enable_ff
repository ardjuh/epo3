library IEEE;
use IEEE.std_logic_1164.ALL;

architecture behaviour of enable_ff is	
	signal Q_next, Q_reg : std_logic_vector(4 downto 0);
begin

process(Clk, shuffle, reset)
	begin 
		if(rising_edge(Clk)) then
			if reset= '1' OR shuffle = '1' then 
				Q_reg <= "10000";			
			else 
				Q_reg <= Q_next; 
			end if;
		end if;       
	end process; 
	
	--next state logic
	Q_next <= D when enable = '1' else Q_reg;

		--output logic
		Q <= Q_reg;



end behaviour;
